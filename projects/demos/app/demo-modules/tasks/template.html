
<br /><br /><br />

<h3>
  Edit tasks
  <button class="btn btn-primary float-right mr-2" (click)="addEvent()">
    Add new
  </button>
  <button class="btn btn-primary float-right mr-2" (click)="syncTasks()">
    Sync
  </button>
  <div class="clearfix"></div>
</h3>

<div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Task</th>
        <th>Location</th>
        <th>Duration</th>
        <th>Priority</th>
        <th>Status</th>
        <th>Remove</th>
      </tr>
    </thead>


    <tbody>
      <tr *ngFor="let event of events">
        <td>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="event.name"
            (keyup)="refresh.next()"
          />
        </td>
        <td>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="event.location"
            (keyup)="refresh.next()"
          />
        </td>
        <td>
            <input
            type="text"
            class="form-control"
            [(ngModel)]="event.duration"
            (keyup)="refresh.next()"
            size="5"
          />
        </td>
        <td>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="event.priority"
            (keyup)="refresh.next()"
            size="2"
            maxlength="1"
          />
        </td>
        <td>
          <input
            type="checkbox"
            class="w3-check"
            [(ngModel)]="event.status"
            (keyup)="refresh.next()"
          />
        </td>
        <td>
          <button class="btn btn-danger" (click)="deleteEvent(event)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #modalContent let-close="close">
  <div class="modal-header">
    <h5 class="modal-title">task action occurred</h5>
    <button type="button" class="close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div>
      Action:
      <pre>{{ modalData?.action }}</pre>
    </div>
    <div>
      task:
      <pre>{{ modalData?.event | json }}</pre>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-secondary" (click)="close()">
      OK
    </button>
  </div>
</ng-template>
